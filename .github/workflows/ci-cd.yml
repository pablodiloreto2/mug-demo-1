# ğŸ‘¨â€ğŸ« SimulaciÃ³n de Despliegue para Estudiantes (VersiÃ³n Visual)
name: 'CI/CD: Build, Test, Deploy (SimulaciÃ³n Visual)'

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  # Este job simula todo el proceso de CI/CD
  build-test-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
      - name: 'â¡ï¸ 1. Checkout del CÃ³digo'
        uses: actions/checkout@v4

      # --- FASE DE BUILD ---
      - name: 'ğŸ—ï¸ 2. Fase de Build (ConstrucciÃ³n)'
        run: |
          echo "Iniciando la construcciÃ³n del proyecto..."
          echo "Esto simula la compilaciÃ³n, instalaciÃ³n de dependencias, etc."
          sleep 30 # <-- ESPERA DE 30 SEGUNDOS
          echo "âœ… Â¡Proyecto construido exitosamente!"

      # --- FASE DE TEST ---
      - name: 'ğŸ§ª 3. Fase de Test (Pruebas)'
        run: |
          echo "Iniciando la ejecuciÃ³n de pruebas automatizadas..."
          echo "Simulando pruebas unitarias, de integraciÃ³n y funcionales."
          sleep 30 # <-- ESPERA DE 30 SEGUNDOS
          echo "âœ… Â¡Todas las pruebas han pasado!"

      # --- FASE DE DEPLOY ---
      - name: 'ğŸš€ 4. Fase de Deploy (Despliegue a Staging)'
        run: |
          echo "Iniciando despliegue al entorno de pruebas (Staging)..."
          echo "Conectando con el servidor, subiendo archivos..."
          sleep 30 # <-- ESPERA DE 30 SEGUNDOS
          echo "âœ… Â¡Desplegado en Staging correctamente!"

      - name: 'ğŸ‰ 5. Fase de Deploy (Despliegue a ProducciÃ³n)'
        run: |
          echo "Â¡APROBADO! Iniciando despliegue final a ProducciÃ³n..."
          echo "Este es el paso final. La nueva versiÃ³n estarÃ¡ disponible para los usuarios."
          sleep 30 # <-- ESPERA DE 30 SEGUNDOS
          echo "âœ¨ Â¡Despliegue en ProducciÃ³n completado con Ã‰XITO!"